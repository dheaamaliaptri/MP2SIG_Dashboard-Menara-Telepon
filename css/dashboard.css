:root{
  --sidebar-w: 360px;
  --bg: #fff7f7;            
  --ink:#2b1b1b;             
  --card:#fff;
  --brand:#b71c1c;              
  --brand-light:#e53935;
  --line:#f1d7d7;
  --shadow: 0 10px 28px rgba(183,28,28,.08);
}

*{box-sizing:border-box}
body{
  margin:0; background:var(--bg); color:var(--ink);
  font-family: Inter, system-ui, Segoe UI, Roboto, Arial, sans-serif;
}
.layout{
  display:grid; grid-template-columns: var(--sidebar-w) 1fr;
  min-height: calc(100vh - 38px);
}

/* ========== SIDEBAR ========== */
.sidebar{
  position: sticky; top:0; align-self:start;
  height: calc(100vh - 38px); overflow:auto;
  background:#fff; border-right:1px solid var(--line);
  padding:12px 12px;
}

/* Brand */
.brand{display:flex; align-items:center; gap:8px; margin-bottom:10px}
.logo{
  width:36px; height:36px; border-radius:10px; display:grid; place-items:center;
  background:linear-gradient(135deg,var(--brand),var(--brand-light));
  color:#fff; font-size:16px; box-shadow:var(--shadow);
}
.brand-meta h1{font-size:15px; font-weight:800; margin:0; color:var(--brand);}
.brand-meta p{margin:0; color:#945252; font-size:10px}

/* KPI */
.kpi{display:flex; flex-direction:column; gap:8px; margin-bottom:10px}
.kpi-item{
  display:flex; align-items:center; gap:8px;
  padding:8px; border-radius:10px;
  background:#fff3f3; border:1px dashed #f3b7b7;
}
.kpi-item .icon{font-size:16px}
.kpi-val{font-size:16px; font-weight:700; color:var(--brand);}
.kpi-label{font-size:10px; color:#945252}

/* Nav choice */
.navcard{
  background:#fff; border:1px solid var(--line); border-radius:12px;
  padding:8px; box-shadow:var(--shadow);
  display:flex; flex-direction:column; gap:6px; margin-bottom:8px;
}
.navcard-title{
  font-size:10px; letter-spacing:.4px; color:#6b2d2d;
  font-weight:700; text-transform:uppercase;
}
.navbtn{
  appearance:none; border:1px solid #f7c4c4; background:#fff5f5; color:#3c2020;
  padding:7px 9px; border-radius:9px; font-weight:700; cursor:pointer; text-align:left;
  transition:.2s; font-size:12px;
}
.navbtn:hover{background:#ffeaea}
.navbtn.active{
  background:var(--brand);
  border-color:var(--brand);
  color:#fff;
  box-shadow:0 6px 18px rgba(183,28,28,.25);
}

/* Area visual */
.side-visual{display:flex; flex-direction:column; gap:10px}
.card{
  background:var(--card); border-radius:12px; padding:10px; box-shadow: var(--shadow);
  border:1px solid var(--line);
}
.card h6{margin:0 0 6px; font-weight:800; font-size:13px; color:var(--brand);}
.chart-box{width:100%;}
.chart-box canvas{width:100% !important; height:auto !important;}

/* --- PIE CHART --- */
.donut .chart-box canvas{
  height: 210px !important;
  max-height: 210px;
}

/* --- BAR CHART --- */
.tablebox .chart-box canvas{
  height: 330px !important;
}
#barKecamatan{font-size:13px !important}

/* Legend */
.legend-mini{
  display:flex; gap:10px; justify-content:center;
  margin-top:6px; font-size:11px; color:#5b2b2b;
}
.legend-mini .c{display:inline-block; width:10px; height:10px; border-radius:2px; margin-right:6px; vertical-align:middle}
.legend-mini .c1{background:#ef5350}
.legend-mini .c2{background:#f57c00}
.legend-mini .c3{background:#d32f2f}

.hidden{display:none !important}

/* Map Panel */
.content{padding:12px}
.map-only{
  width:100%; height: calc(100vh - 56px);
  border:0; border-radius:12px; box-shadow: var(--shadow);
}

/* ====================== FOOTER ====================== */
.foot{
  position: sticky;
  bottom: 0;
  z-index: 5;
  text-align: center;
  padding: 6px 12px;
  font-size: 11px;
  line-height: 1.2;
  color: #7b2a2a;
  background: #fff0f0cc;
  border-top: 1px solid #f3c0c0;
  backdrop-filter: blur(6px);
}
.foot::before{
  content: '';
  display: block;
  height: 2px;
  margin: -6px -12px 6px;
  background: linear-gradient(90deg,#fceaea, #f5b5b5, #fceaea);
}

/* Responsive */
@media (max-width: 920px){
  :root{ --sidebar-w: 320px }
  .donut .chart-box canvas{height: 190px !important;}
  .tablebox .chart-box canvas{height: 300px !important;}
}
@media (max-width: 768px){
  .layout{ grid-template-columns: 1fr }
  .sidebar{
    position:relative; height:auto; border-right:0;
    border-bottom:1px solid var(--line); border-radius:0 0 12px 12px;
  }
  .map-only{ height: 60vh; }
  .donut .chart-box canvas{height: 170px !important;}
  .tablebox .chart-box canvas{height: 260px !important;}
}
